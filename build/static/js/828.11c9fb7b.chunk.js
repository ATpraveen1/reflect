(self.webpackChunkedumim=self.webpackChunkedumim||[]).push([[828],{986:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(93433),a=r(1413),s=r(74165),i=r(15861),l=r(29439),c=r(72791),o=r(64082),u=r(65040),d=r(27849),f=r(47751),p=r(81159),x=r(76321),h=r(30276),m=r(94294),v=r(56355),g=(r(49417),r(60807),r(92810)),j=r(80184);function b(){var e=(0,c.useState)(null),t=(0,l.Z)(e,2),r=t[0],b=t[1],Z=(0,c.useState)(null),y=(0,l.Z)(Z,2),k=y[0],N=y[1],w=(0,c.useState)(""),S=(0,l.Z)(w,2),C=S[0],D=S[1],E=(0,c.useState)([]),L=(0,l.Z)(E,2),A=L[0],B=L[1],T=(0,c.useState)([]),I=(0,l.Z)(T,2),J=I[0],F=I[1],O=(0,c.useState)("All"),R=(0,l.Z)(O,2),U=R[0],P=R[1],W=(0,c.useState)("NEW"),V=(0,l.Z)(W,2),Q=V[0],z=V[1],H=(0,c.useState)([]),K=(0,l.Z)(H,2),X=K[0],G=K[1],M=(0,c.useState)(null),q=(0,l.Z)(M,2),Y=q[0],$=(q[1],(0,c.useState)(null)),_=(0,l.Z)($,2),ee=(_[0],_[1]),te=(0,c.useState)(""),re=(0,l.Z)(te,2),ne=(re[0],re[1],(0,c.useState)(null)),ae=(0,l.Z)(ne,2),se=ae[0],ie=(ae[1],(0,c.useState)(null)),le=(0,l.Z)(ie,2),ce=le[0],oe=(le[1],(0,c.useState)([])),ue=(0,l.Z)(oe,2),de=(ue[0],ue[1]),fe=(0,c.useState)(null),pe=(0,l.Z)(fe,2),xe=pe[0],he=pe[1],me=(0,c.useState)(""),ve=(0,l.Z)(me,2),ge=(ve[0],ve[1]),je=(0,c.useState)(""),be=(0,l.Z)(je,2),Ze=be[0],ye=be[1],ke=(0,c.useState)(""),Ne=(0,l.Z)(ke,2),we=Ne[0],Se=Ne[1],Ce=(0,c.useState)([{title:"",description:""}]),De=(0,l.Z)(Ce,2),Ee=De[0],Le=De[1],Ae=(0,c.useState)([]),Be=(0,l.Z)(Ae,2),Te=Be[0],Ie=Be[1],Je=(0,x.hJ)(p.db,"blogs"),Fe=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r,n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe&&Ze&&we&&!Ee.some((function(e){return!e.title||!e.description}))){e.next=3;break}return alert("Please fill in all fields and select an image."),e.abrupt("return");case 3:return t=(0,h.iH)(p.tO,"blogs/".concat(xe.name+(0,g.Z)())),e.prev=4,e.next=7,(0,h.KV)(t,xe);case 7:return r=e.sent,e.next=10,(0,h.Jt)(r.ref);case 10:return n=e.sent,ge(n),a={title:Ze,description:we,imageURL:n,subtitles:Ee},e.next=15,(0,x.ET)(Je,a);case 15:alert("Blog has been created and image uploaded"),he(null),ge(""),ye(""),Se(""),Le([{title:"",description:""}]),Oe(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),console.error("Error creating blog post:",e.t0),alert("Error creating blog post, please try again");case 28:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.PL)(Je);case 3:t=e.sent,r=t.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),Ie(r),console.log("Fetched Blog Posts:",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching blog posts:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.oe)((0,x.JU)(p.db,"blogs",t));case 3:Oe(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error deleting blog post:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){Oe()}),[]);var Ue=function(e,t,r){var a=(0,n.Z)(Ee);a[e][t]=r,Le(a)};(0,c.useEffect)((function(){var e;"All"===U&&(e="All"),"Today"===U&&(e=864e5),"last2Days"===U&&(e=1728e5),"last7Days"===U&&(e=6048e5),"last30Days"===U&&(e=2592e6),"last60Days"===U&&(e=5184e6),console.log("filterby status");var t,r,n=new Date;t="ALL"===Q?J:J.filter((function(e){return Q===e.status?(console.log("NEW"),!0):Q===e.status?(console.log("Closed"),!0):void 0})),r="All"===e?t:t.filter((function(t){var r=t.timestamp,a=1e3*r.seconds+r.nanoseconds/1e6;return n-a<=e})),G(r)}),[J,U,Q]),(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,x.hJ)(p.db,"formData"),r=(0,x.cf)(t,(function(e){var t=e.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())}));F(t)})),e.abrupt("return",(function(){return r()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Pe=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,We(r);case 4:return n=e.sent,e.next=7,We(k);case 7:return a=e.sent,e.next=10,Ve(n,a);case 10:b(null),N(null),D(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error adding item to Firestore: ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,h.iH)(p.tO,"images/".concat(t.name)),e.next=3,(0,h.KV)(r,t);case 3:return e.next=5,(0,h.Jt)(r);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,x.hJ)(p.db,"items"),e.next=3,(0,x.ET)(n,{beforeimage:t,afterimage:r,title:C});case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,x.hJ)(p.db,"items"),e.next=4,(0,x.PL)(t);case 4:r=e.sent,n=r.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),B(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching data from Firestore: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,c.useEffect)((function(){Qe()}),[]);var Qe=function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,x.hJ)(p.db,"Offers"),e.next=4,(0,x.PL)(t);case 4:r=e.sent,n=r.docs.map((function(e){return(0,a.Z)({id:e.id},e.data())})),console.log("items data",n),de(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching data from Firestore: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()},ze=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,x.JU)(p.db,"formData",t),e.next=3,(0,x.r7)(r,{status:"CLOSED"});case 3:G((function(e){return e.filter((function(e){return e.id!==t}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,x.JU)(p.db,"items",t),e.next=4,(0,x.oe)(r);case 4:B((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting item from Firestore: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){z(e),P("All")},Xe=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(se);case 2:t=e.sent,ee(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){"video"===Y?function(e){var t=e.match(/[?&]v=([^&]+)/),r=t&&t[1];r&&ee(r)}(ce):Xe()}),[ce,se]),(0,j.jsxs)(o.Z,{"aria-label":"Basic tabs",defaultValue:0,children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(d.Z,{children:"Bookings"}),(0,j.jsx)(d.Z,{children:"Results"}),(0,j.jsx)(d.Z,{children:"Blogs"}),(0,j.jsx)(d.Z,{children:"Logout"})]}),(0,j.jsxs)(f.Z,{value:0,children:[(0,j.jsxs)(o.Z,{"aria-label":"Basic tabs",defaultValue:0,children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)("div",{onClick:function(e){Ke("NEW")},children:(0,j.jsx)(d.Z,{children:"New"})}),(0,j.jsx)("div",{onClick:function(e){Ke("CLOSED")},children:(0,j.jsx)(d.Z,{children:"Closed Appointment"})}),(0,j.jsx)("div",{onClick:function(e){Ke("ALL")},children:(0,j.jsx)(d.Z,{children:"All"})})]}),(0,j.jsx)(f.Z,{value:0}),(0,j.jsx)(f.Z,{value:1,children:(0,j.jsx)("label",{children:(0,j.jsxs)("select",{value:U,onChange:function(e){return P(e.target.value)},children:[(0,j.jsx)("option",{value:"All",children:"All"}),(0,j.jsx)("option",{value:"Today",children:"Today"}),(0,j.jsx)("option",{value:"last2Days",children:"Last 2 days"}),(0,j.jsx)("option",{value:"last7Days",children:"Last 7 days"}),(0,j.jsx)("option",{value:"last30Days",children:"Last 30 days"}),(0,j.jsx)("option",{value:"last60Days",children:"Last 60 days"})]})})}),(0,j.jsx)(f.Z,{value:2,children:(0,j.jsx)("label",{children:(0,j.jsxs)("select",{value:U,onChange:function(e){return P(e.target.value)},children:[(0,j.jsx)("option",{value:"All",children:"All"}),(0,j.jsx)("option",{value:"Today",children:"Today"}),(0,j.jsx)("option",{value:"last2Days",children:"Last 2 days"}),(0,j.jsx)("option",{value:"last7Days",children:"Last 7 days"}),(0,j.jsx)("option",{value:"last30Days",children:"Last 30 days"}),(0,j.jsx)("option",{value:"last60Days",children:"Last 60 days"})]})})})]}),(0,j.jsx)("div",{className:"bookcard-grid",children:X.length>0?X.map((function(e){return(0,j.jsxs)("div",{className:"book-card",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,j.jsxs)("div",{children:[" ",(0,j.jsx)("strong",{children:"Phone Number:"})," ",e.phoneNumber," "]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Time Slot:"})," ",e.timeSlot]}),(0,j.jsxs)("div",{children:[" ",(0,j.jsx)("strong",{children:"Submission time:"})," ",e.timestamp&&e.timestamp.toDate().toString()]}),"NEW"===e.status&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{style:{backgroundColor:"orange",padding:"5px 5px 7px 5px ",color:"white",marginTop:"10px",borderRadius:"7px"},onClick:function(){return ze(e.id)},children:"Close Appointment"})})]},e.id)})):(0,j.jsx)("div",{className:"text-center",style:{marginTop:"20px"},children:"Data Not Available "})})]}),(0,j.jsxs)(f.Z,{value:1,children:[(0,j.jsxs)("form",{onSubmit:Pe,children:[(0,j.jsxs)("label",{children:["Before Image:",(0,j.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&b(e.target.files[0])}})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("label",{children:["After Image:",(0,j.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&N(e.target.files[0])}})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("label",{children:["Title:",(0,j.jsx)("input",{type:"text",value:C,onChange:function(e){return D(e.target.value)}})]}),(0,j.jsx)("br",{}),(0,j.jsx)(m.Z,{type:"submit",color:"success",style:{margin:"20px"},children:"Add Item"})]}),(0,j.jsx)("div",{className:"bookcard-grid",children:A.map((function(e){return(0,j.jsxs)("div",{className:"book-card",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:e.beforeimage,alt:e.title}),(0,j.jsx)("img",{src:e.afterimage,alt:e.title})]}),(0,j.jsx)("p",{children:e.title}),(0,j.jsx)(m.Z,{variant:"contained",color:"error",style:{margin:"20px"},onClick:function(){return He(e.id)},children:"Delete"})]},e.id)}))})]}),(0,j.jsx)(f.Z,{value:2,children:(0,j.jsxs)(o.Z,{"aria-label":"Blogs tabs",defaultValue:0,children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(d.Z,{children:"Create Blog"}),(0,j.jsx)(d.Z,{children:"Blogs List"})]}),(0,j.jsxs)(f.Z,{value:0,children:[(0,j.jsx)("div",{className:"text-2xl p-5",children:"Create Blog"}),(0,j.jsxs)("div",{className:"px-5",children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{className:"form-label",children:"Enter Title"}),(0,j.jsx)("input",{type:"text",value:Ze,onChange:function(e){return ye(e.target.value)},className:"form-input"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{className:"form-label",children:"Enter Description"}),(0,j.jsx)("textarea",{value:we,onChange:function(e){return Se(e.target.value)},className:"form-textarea"})]}),Ee.map((function(e,t){return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{className:"form-label",children:["Enter Subtitle ",t+1]}),(0,j.jsx)("input",{type:"text",value:e.title,onChange:function(e){return Ue(t,"title",e.target.value)},className:"form-input"})]}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{className:"form-label",children:["Enter Subtitle ",t+1," Description"]}),(0,j.jsx)("textarea",{value:e.description,onChange:function(e){return Ue(t,"description",e.target.value)},className:"form-textarea"})]})]},t)})),(0,j.jsx)("div",{className:"form-group",children:(0,j.jsx)("button",{className:"form-button",onClick:function(){Le([].concat((0,n.Z)(Ee),[{title:"",description:""}]))},children:"Add Subtitle"})}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"image",className:"form-label",children:"Upload Image"}),(0,j.jsx)("input",{id:"image",type:"file",style:{display:"none"},onChange:function(e){return he(e.target.files[0])}}),(0,j.jsxs)("label",{htmlFor:"image",className:"form-upload",children:[(0,j.jsx)(v.Qvc,{className:"upload-icon"})," Upload file"]})]}),(0,j.jsx)("div",{className:"form-group",children:(0,j.jsx)("button",{className:"form-button",onClick:Fe,children:"Add"})})]})]}),(0,j.jsx)(f.Z,{value:1,children:(0,j.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Te.map((function(e){return(0,j.jsxs)("div",{style:{padding:"16px",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,j.jsx)("div",{style:{width:"100%",height:"200px",backgroundColor:"#e2e8f0",borderRadius:"8px",overflow:"hidden"},children:(0,j.jsx)("img",{src:e.imageURL,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,j.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginTop:"8px"},children:e.title}),(0,j.jsx)("button",{onClick:function(){return Re(e.id)},style:{backgroundColor:"red",color:"white",padding:"8px",borderRadius:"4px",marginTop:"8px",border:"none",cursor:"pointer"},children:"Delete"})]},e.id)}))})})]})}),(0,j.jsx)(f.Z,{value:3,children:(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:"Finish My Session Now "}),(0,j.jsx)("div",{children:(0,j.jsx)(m.Z,{variant:"contained",color:"error",onClick:function(){localStorage.removeItem("token"),window.location.reload()},children:"Logout"})})]})})]})}},81159:function(e,t,r){"use strict";r.d(t,{db:function(){return l},tO:function(){return c}});var n=r(44702),a=r(76321),s=r(30276),i=(0,n.ZF)({apiKey:"AIzaSyDrNDJBgI6BTQlnt9xxZzIWXLvIOXeDBnc",authDomain:"reflect-6315a.firebaseapp.com",projectId:"reflect-6315a",storageBucket:"reflect-6315a.appspot.com",messagingSenderId:"170172540537",appId:"1:170172540537:web:686cacb1746b42607696a8",measurementId:"G-3LQQN81LJN"}),l=(0,a.ad)(i),c=(0,s.cF)(i);(0,s.iH)(c,"images")},24654:function(){}}]);
//# sourceMappingURL=828.11c9fb7b.chunk.js.map